(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){(function(){'use-strict';angular.module('ubigeoApp',['ubigeoApp.controllers','ubigeoApp.services','ubigeoApp.directives','firebase']).config(appCfg);function appCfg(){var config={apiKey:"AIzaSyD1llHLEnfes40hKE0zhRTkOw7b-3Qx-Vg",authDomain:"dee-consultores.firebaseapp.com",databaseURL:"https://dee-consultores.firebaseio.com",storageBucket:"",messagingSenderId:"332868455013"};firebase.initializeApp(config)}})();(function(){'use-strict';angular.module('ubigeoApp.controllers',[]).controller('mainCtrl',mainCtrl);function mainCtrl(mainSvc,$firebaseObject,$firebaseArray){var main=this;main.provincias_departamento=[];main.distritos_provincia=[];main.periodos=[];main.get_departamentos=function(){mainSvc.getDepartamentos().then(function(response){main.departamentos=response;main.get_provincias()}).catch(function(reason){console.log(reason)})};main.get_provincias=function(){mainSvc.getProvincias().then(function(response){main.provincias=response;main.get_distritos()}).catch(function(reason){console.log(reason)})};main.get_distritos=function(){mainSvc.getDistritos().then(function(response){main.distritos=response;main.get_periodos()}).catch(function(reason){console.log(reason)})};main.get_periodos=function(){mainSvc.getPeriodos().then(function(response){main.periodos=response.val()}).catch(function(reason){console.log(reason)})};main.get_provincias_departamento=function(departamento){main.provincias_departamento=[];main.distritos_provincia=[];main.provincia=undefined;main.distrito=undefined;if(angular.isDefined(departamento)&&departamento!==null){main.provincias_departamento=_.filter(main.provincias,function(objProvincia){return objProvincia.codigo_departamento==departamento.codigo_departamento})}};main.get_distritos_provincia=function(provincia){main.distritos_provincia=[];main.distrito=undefined;if(angular.isDefined(provincia)&&provincia!==null){main.distritos_provincia=_.filter(main.distritos,function(objDistrito){return objDistrito.codigo_departamento==provincia.codigo_departamento&&objDistrito.codigo_provincia==provincia.codigo_provincia})}};main.get_municipalidades_filtro=function(){main.loading_municipalidades=!0;main.municipalidades=null;var departamento=main.departamento?main.departamento.codigo_departamento:null,provincia=main.provincia?main.provincia.codigo_provincia:null,distrito=main.distrito?main.distrito.codigo_distrito:null,periodo=main.periodo?main.periodo.codigo_periodo:null;mainSvc.getMunicipalidades(departamento).then(function(response){if(angular.isUndefined(periodo)||periodo===null){if(angular.isUndefined(provincia)||provincia===null){main.municipalidades=_.toArray(response.val())}else{if(angular.isUndefined(distrito)||distrito===null){main.municipalidades=_.toArray(_.filter(response.val(),function(objProvincia){return objProvincia.codigo_provincia==provincia}))}else{var municipalidades_provincia=_.filter(response.val(),function(objProvincia){return objProvincia.codigo_provincia==provincia});main.municipalidades=_.toArray(_.filter(municipalidades_provincia,function(objDistrito){return objDistrito.codigo_distrito==distrito}))}}}else{var municipalidades_periodo=_.filter(response.val(),function(objPeriodo){return objPeriodo.codigo_periodo==periodo});if(angular.isUndefined(provincia)||provincia===null){main.municipalidades=_.toArray(municipalidades_periodo)}else{if(angular.isUndefined(distrito)||distrito===null){main.municipalidades=_.toArray(_.filter(response.val(),function(objProvincia){return objProvincia.codigo_provincia==provincia}))}else{var municipalidades_provincia_periodo=_.filter(municipalidades_periodo,function(objProvincia){return objProvincia.codigo_provincia==provincia});main.municipalidades=_.toArray(_.filter(municipalidades_provincia_periodo,function(objDistrito){return objDistrito.codigo_distrito==distrito}))}}}
main.loading_municipalidades=!1}).catch(function(reason){console.log(reason)})};main.get_departamentos();main.get_total=function(array,key){var total=0;angular.forEach(array,function(value){total+=Number(value[key])});return total};main.set_color=function(row){if(row%2===0){return 'warning'}else{return 'active'}}}})();(function(){'use-strict';angular.module('ubigeoApp.directives',[]).directive('spinnerLoader',spinnerLoader);function spinnerLoader(){return{restrict:'AE',replace:!0,template:'<div class="spinner"><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div><div class="bounce4"></div></div>'}}})();(function(){'use-strict';angular.module('ubigeoApp.services',[]).service('mainSvc',mainSvc);function mainSvc($q,$http){return{getDepartamentos:function(){var defered=$q.defer();var promise=defered.promise;$http.get('data/departamentos.json').success(function(data){defered.resolve(data)}).error(function(err){defered.reject(err)});return promise},getProvincias:function(){var defered=$q.defer();var promise=defered.promise;$http.get('data/provincias.json').success(function(data){defered.resolve(data)}).error(function(err){defered.reject(err)});return promise},getDistritos:function(){var defered=$q.defer();var promise=defered.promise;$http.get('data/distritos.json').success(function(data){defered.resolve(data)}).error(function(err){defered.reject(err)});return promise},getPeriodos:function(){var defered=$q.defer();var promise=defered.promise;var ref_periodos=firebase.database().ref().child("periodos");ref_periodos.once('value').then(function(data){defered.resolve(data)}).catch(function(err){defered.reject(err)});return promise},getMunicipalidades:function(departamento){var defered=$q.defer();var promise=defered.promise;var ref_municipalidades=firebase.database().ref().child("municipalidades");if(departamento===null){ref_municipalidades.once('value').then(function(data){defered.resolve(data)}).catch(function(err){defered.reject(err)})}else{ref_municipalidades.orderByChild("codigo_departamento").equalTo(departamento).once('value').then(function(data){defered.resolve(data)}).catch(function(err){defered.reject(err)})}
return promise}}}})()},{}]},{},[1])